@* -----------------------------------------------------------------------
 * <copyright file="MainLayout.razor" company="Tony Richards">
 * Copyright (c) Tony Richards. All rights reserved.
 * Licensed under the MIT license. See LICENSE file in the project root for full license information.
 * </copyright>
 * ----------------------------------------------------------------------- *@

@inherits LayoutComponentBase
@inject AuthenticationStateProvider AuthStateProvider

@using System.Security.Claims

<ThemeProvider @rendermode="InteractiveAuto" />
<MudDialogProvider @rendermode="InteractiveAuto" />
<MudSnackbarProvider @rendermode="InteractiveAuto" />

<MudLayout>
    <NavLayout @rendermode="InteractiveAuto" />
    <MudMainContent>
        <MudContainer MaxWidth="MaxWidth.Medium" Style="padding-top: 10px">
            @Body
        </MudContainer>
    </MudMainContent>
</MudLayout>

@code
{
    private string UserName { get; set; } = "";

    protected async override Task OnInitializedAsync()
    {
        var authState = await AuthStateProvider.GetAuthenticationStateAsync();
        UserName=authState.User.FindFirst("name")?.Value ?? "";
    }
}
